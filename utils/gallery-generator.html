<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
 <title>DownThemAll! Utility: Gallery Generator</title>
 <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
 <meta http-equiv="Content-Style-Type" content="text/css" />
 
 <style type="text/css">
 html
 { background: #EEE; font: 8pt Verdana, sans-serif; }
 body
 { background: #FFF; border: 1px solid silver; padding: 1em; width: 600px; margin: 1em auto; }
 input
 { width: 500px; }
 </style>
 
 <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/mootools/1.3.0/mootools-yui-compressed.js"></script>
 <script type="text/javascript" src="../mootools-more.js"></script>
 <script type="text/javascript">
  var urlGroup = /\[(\d+)-(\d+)\]/;
  function expandUrls ( baseUrl )
  {
    var m = urlGroup.exec( baseUrl );
    if ( !m )
      return [ baseUrl ];
    
	var urls = [];
	var length = m[1].length || m[2].length;
	
	for ( var i = parseInt( m[1] ), j = parseInt( m[2] ); i <= j; i++ )
	{
	  urls.push.apply( urls, expandUrls( baseUrl.replace( m[0], i.toString().pad( length, '0', 'left' ) ) ) );
	}
	
	return urls;
  }
  
  window.addEvent( 'domready', function()
  {
    document.id( 'generate' ).addEvent( 'click', function ( event )
    {
      var links = document.id( 'links' ).empty();
      expandUrls( document.id( 'base' ).value ).each( function( url )
      {
        links.grab( ( new Element( 'li' ) ).grab( new Element( 'a', { href : url, text : url } ) ) );
      } );
    } );
  } );
 </script>
</head>

<body>
 <h1>DownThemAll! Utility: Gallery Generator</h1>
 <p>Use <code>[X-Y]</code> inside of the URL to specify ranges. For example, <code>[1-10]</code> will generate ten
  different URLs with <code>1</code>, <code>2</code>, â€¦, <code>10</code> respectively. Pad the first number with leading
  zeros to have the generator include leading zeros as well. So <code>[01-05]</code> will generate five URLs with
  <code>01</code>, <code>02</code>, <code>03</code>, <code>04</code> and <code>05</code>. The usage of multiple groups
  is supported.</p>
 <input id="base" type="text" />
 <button id="generate">Generate</button>
 
 <ul id="links"></ul>
</body>
</html>
